# ===========================================================
# üöÄ Nifty 50 Trading System - Environment Variables
# ===========================================================
#
# SETUP:
#   1. Copy this file: cp .env.example .env
#   2. Fill in your API credentials
#   3. Run: make up
#
# ‚ö†Ô∏è  NEVER commit your .env file to git!
#
# ===========================================================

# ===========================================================
# üìä BROKER CREDENTIALS (Required for L1: Ingestion)
# ===========================================================

# Which provider to use: kite | mstock | flattrade
# this is the condionla check to pull or not
SKIP_HISTORICAL_SYNC= false
MARKET_DATA_PROVIDER=mstock

# --- Zerodha Kite Connect ---
ZERODHA_API_KEY=
ZERODHA_API_SECRET=
ZERODHA_ACCESS_TOKEN=

# --- MStock API (Recommended) ---
MSTOCK_API_KEY=your_mstock_api_key
MSTOCK_ACCESS_TOKEN=          # Leave empty to use auto-login
MSTOCK_CLIENT_CODE=your_client_code
MSTOCK_PASSWORD=your_password
MSTOCK_TOTP_SECRET=your_totp_secret

# --- FlatTrade API ---
FLATTRADE_USER_ID=
FLATTRADE_API_KEY=
FLATTRADE_API_SECRET=
FLATTRADE_ACTID=
FLATTRADE_PASSWORD=

# ===========================================================
# üóÑÔ∏è INFRASTRUCTURE (Defaults work for local Docker)
# ===========================================================
# ‚ö†Ô∏è  SECURITY WARNING: Change ALL passwords before production!
# These are EXAMPLE values - NEVER use in production
# ===========================================================

# --- Database ---
POSTGRES_USER=trading
POSTGRES_PASSWORD=CHANGE_THIS_IN_PRODUCTION_trading123
POSTGRES_DB=nifty50

# PgAdmin Configuration
PGADMIN_EMAIL=admin@admin.com
PGADMIN_PASSWORD=admin

# Infrastructure
REDIS_HOST=redis
KAFKA_BROKERS=kafka:29092

# =========================================================
# INGESTION SETTINGS
# =========================================================
# Number of parallel workers for Swarm data fetching
# Higher = faster data pull, but more API load
# Default: 12, Recommended for speed: 20
SWARM_CONCURRENCY=20

# Force historical mode (disable live streaming even when market is open)
# Set to true during development/backfill, false for production live trading
FORCE_HISTORICAL_MODE=false
