# ===========================================================
# ðŸš€ UNIFIED DOCKER COMPOSE (References Modular Files)
# ===========================================================
#
# This file includes all modular compose files for convenience.
# You can run `docker-compose up` from the project root.
#
# For granular control, use:
#   make infra   â†’ Start data stores only
#   make app     â†’ Start pipeline only
#   make ui      â†’ Start dashboard only
#   make observe â†’ Start monitoring only
#
# ðŸ“– See: infrastructure/compose/README.md
# ===========================================================

# Priority Order:
# 1. infra   â†’ Data stores (Kafka, Redis, TimescaleDB) - FIRST
# 2. observe â†’ Monitoring (Prometheus, Grafana) - depends on infra
# 3. app     â†’ Pipeline (L1-L6, API) - depends on infra
# 4. ui      â†’ Frontend (Dashboard) - depends on app
# 5. gateway â†’ Public exposure (optional) - depends on ui

include:
  - infrastructure/compose/docker-compose.infra.yml
  - infrastructure/compose/docker-compose.observe.yml
  - infrastructure/compose/docker-compose.app.yml
  - infrastructure/compose/docker-compose.ui.yml
  - infrastructure/compose/docker-compose.notify.yml
  # Optional: Uncomment to include gateway/tunnel
  # - infrastructure/compose/docker-compose.gateway.yml
